package ali.khaleghi.daewooremote

import android.R.array
import android.app.Application
import android.content.Context
import android.content.DialogInterface
import android.content.Intent
import android.hardware.ConsumerIrManager
import android.net.Uri
import android.os.Build
import android.os.Bundle
import android.os.VibrationEffect
import android.os.Vibrator
import android.view.View
import androidx.appcompat.app.AlertDialog
import androidx.appcompat.app.AppCompatActivity
import io.github.inflationx.viewpump.ViewPumpContextWrapper


class MainActivity : AppCompatActivity() {
    private var map: MutableMap<Int, IntArray> = HashMap();
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        initViews()
        initButtons()

    }
    //EhsanDavari VERSION
    private fun initViews() {
        map[R.id.btnPower] = intArrayOf(
            4620, 4600, 560, 620, 520, 1760, 560, 1740, 540, 1740, 560, 600, 540, 600, 540, 600, 560, 600, 540, 600, 580, 1720, 600, 1700, 560, 1720, 600, 540, 640, 520, 640, 500, 640, 520, 640, 500, 620, 520, 640, 1660, 640, 1660, 640, 500, 640, 500, 640, 500, 640, 520, 640, 1640, 640, 1660, 640, 480, 660, 520, 640, 1660, 620, 1660, 640, 1660, 640, 1660, 620, 48080, 4640, 4580, 600, 1700, 580, 1
        );
        map[R.id.btnMute] = intArrayOf(
            4700, 4520, 680, 480, 660, 1640, 640, 1660, 640, 1660, 640, 500, 640, 500, 640, 500, 660, 500, 640, 500, 640, 1660, 640, 1660, 640, 1660, 620, 520, 640, 500, 640, 500, 640, 520, 640, 1640, 640, 520, 640, 1660, 620, 1660, 640, 480, 660, 520, 640, 500, 640, 480, 680, 480, 660, 1640, 640, 520, 640, 500, 640, 1660, 640, 1640, 640, 1660, 640, 1660, 640, 48080, 4700, 4520, 660, 1640, 640, 1
        );
        map[R.id.btnPM] = intArrayOf(
            4600, 4620, 600, 580, 540, 1760, 560, 1720, 560, 1740, 560, 560, 600, 560, 580, 540, 600, 580, 560, 600, 560, 1720, 560, 1740, 560, 1720, 560, 560, 600, 560, 580, 560, 600, 560, 580, 1700, 600, 1700, 600, 1700, 580, 560, 600, 1700, 580, 560, 580, 560, 600, 560, 580, 560, 600, 540, 600, 540, 600, 1700, 600, 540, 600, 1700, 600, 1700, 580, 1720, 580, 48140, 4640, 4600, 580, 1700, 600, 1
        );
        map[R.id.btnZoom] = intArrayOf(
            4620, 4600, 600, 540, 600, 1700, 580, 1720, 580, 1700, 600, 540, 600, 560, 580, 560, 600, 540, 600, 560, 600, 1700, 580, 1700, 600, 1700, 600, 540, 600, 540, 600, 560, 580, 560, 600, 1700, 580, 1720, 580, 1720, 580, 1700, 600, 540, 580, 580, 580, 1700, 600, 560, 580, 560, 600, 560, 560, 580, 580, 560, 580, 1720, 580, 1700, 600, 560, 580, 1720, 560, 48180, 4620, 4600, 580, 1700, 580, 1
        );
        map[R.id.btnSubtitle] = intArrayOf(
            4620, 4600, 600, 560, 580, 1700, 600, 1700, 600, 1700, 580, 560, 580, 560, 600, 540, 600, 560, 580, 560, 600, 1700, 580, 1720, 580, 1700, 600, 560, 580, 560, 580, 560, 600, 560, 580, 560, 580, 1720, 580, 560, 600, 540, 600, 1700, 600, 1700, 580, 560, 580, 1720, 580, 1700, 600, 560, 580, 1700, 600, 1700, 600, 540, 600, 560, 580, 1720, 580, 560, 580, 48160, 4620, 4600, 580, 1700, 600, 1
        );
        map[R.id.btnEpg] = intArrayOf(
            4620, 4600, 580, 560, 600, 1700, 580, 1720, 580, 1700, 600, 540, 600, 560, 580, 560, 600, 540, 600, 560, 580, 1720, 580, 1700, 600, 1700, 580, 560, 600, 540, 600, 560, 580, 560, 600, 540, 600, 560, 580, 1700, 600, 560, 580, 1700, 600, 1700, 600, 540, 600, 1700, 600, 1700, 600, 1700, 580, 560, 600, 1700, 580, 560, 600, 540, 600, 1700, 580, 560, 600, 48160, 4620, 4580, 600, 1700, 580, 33144, 4640, 4580, 600, 1700, 580, 1
        );
        map[R.id.btnFav] = intArrayOf(
            4620, 4600, 600, 540, 600, 1700, 600, 1700, 580, 1720, 580, 560, 580, 560, 600, 540, 600, 560, 580, 560, 600, 1700, 580, 1700, 600, 1700, 600, 540, 600, 560, 580, 560, 580, 560, 600, 1700, 600, 540, 600, 1700, 580, 1720, 580, 560, 600, 1700, 580, 560, 600, 1700, 600, 540, 600, 1700, 580, 560, 600, 560, 580, 1700, 600, 540, 600, 1700, 600, 540, 600, 48140, 4640, 4580, 600, 1700, 600, 1
        );
        map[R.id.btn1] = intArrayOf(
            4620, 4600, 580, 560, 600, 1700, 580, 1720, 580, 1700, 600, 540, 600, 540, 600, 560, 600, 540, 600, 560, 580, 1700, 600, 1700, 600, 1700, 580, 560, 600, 540, 600, 560, 580, 560, 600, 1700, 580, 560, 600, 540, 600, 560, 580, 560, 580, 560, 600, 540, 600, 560, 600, 540, 600, 1700, 600, 1700, 580, 1700, 600, 1700, 600, 1700, 580, 1700, 600, 1700, 600, 48140, 4620, 4600, 580, 1700, 600, 1
        );
        map[R.id.btn2] = intArrayOf(
            4640, 4600, 580, 560, 580, 1720, 580, 1700, 600, 1700, 580, 560, 600, 540, 600, 560, 580, 560, 600, 540, 600, 1700, 600, 1700, 580, 1700, 600, 560, 580, 560, 600, 540, 600, 560, 600, 540, 600, 1700, 580, 560, 600, 540, 600, 560, 580, 560, 600, 540, 600, 560, 580, 1700, 600, 560, 580, 1700, 600, 1700, 600, 1700, 580, 1700, 600, 1700, 600, 1700, 580, 48160, 4620, 4600, 580, 1700, 600, 1
        );
        map[R.id.btn3] = intArrayOf(
            4640, 4580, 600, 540, 600, 1700, 600, 1700, 580, 1720, 580, 560, 580, 560, 600, 540, 600, 560, 600, 540, 600, 1700, 580, 1720, 580, 1700, 600, 560, 580, 560, 580, 560, 600, 540, 600, 1700, 600, 1700, 580, 560, 600, 560, 580, 560, 580, 560, 600, 540, 600, 560, 580, 560, 600, 540, 600, 1700, 580, 1720, 580, 1700, 600, 1700, 600, 1700, 580, 1720, 580, 48140, 4620, 4600, 600, 1680, 600, 1
        );
        map[R.id.btn4] = intArrayOf(
            4620, 4600, 580, 560, 600, 1700, 580, 1720, 580, 1700, 600, 560, 580, 540, 600, 560, 600, 540, 600, 560, 580, 1700, 600, 1700, 600, 1700, 580, 560, 600, 560, 580, 540, 600, 560, 600, 540, 600, 560, 580, 1700, 600, 560, 580, 560, 580, 560, 600, 540, 600, 560, 600, 1700, 580, 1700, 600, 560, 580, 1700, 600, 1700, 580, 1720, 580, 1700, 600, 1700, 600, 48140, 4620, 4600, 580, 1700, 600, 1
        );
        map[R.id.btn5] = intArrayOf(
            4700, 4520, 660, 520, 620, 1680, 620, 1660, 640, 1660, 600, 540, 600, 540, 620, 540, 600, 540, 620, 540, 600, 1680, 600, 1700, 600, 1700, 600, 540, 600, 540, 600, 540, 620, 540, 600, 1700, 600, 540, 600, 1700, 600, 540, 600, 540, 600, 540, 580, 580, 600, 540, 600, 560, 600, 1680, 600, 560, 600, 1680, 620, 1680, 580, 1720, 560, 1720, 620, 1680, 580, 48140, 4600, 4620, 560, 1760, 540, 33144, 4640, 4580, 620, 1700, 600, 1
        );
        map[R.id.btn6] = intArrayOf(
            4640, 4580, 600, 560, 580, 1740, 560, 1720, 580, 1720, 560, 560, 580, 560, 600, 560, 580, 560, 600, 540, 600, 1720, 580, 1700, 580, 1740, 560, 560, 580, 560, 580, 560, 600, 560, 580, 560, 580, 1700, 600, 1700, 600, 540, 600, 560, 580, 560, 580, 560, 600, 560, 580, 1720, 580, 560, 580, 560, 600, 1700, 580, 1700, 600, 1700, 600, 1700, 580, 1720, 580, 48140, 4640, 4580, 600, 1680, 600, 1
        );
        map[R.id.btn7] = intArrayOf(
            4640, 4600, 560, 600, 540, 1760, 560, 1740, 560, 1720, 580, 580, 540, 600, 560, 580, 560, 600, 560, 580, 560, 1720, 580, 1720, 580, 1720, 560, 560, 580, 600, 560, 540, 580, 580, 600, 1720, 540, 1760, 560, 1720, 580, 580, 560, 560, 580, 560, 580, 560, 600, 560, 580, 560, 580, 560, 600, 540, 600, 1720, 580, 1700, 600, 1700, 560, 1720, 600, 1700, 600, 48140, 4620, 4600, 580, 1720, 580, 1
        );
        map[R.id.btn8] = intArrayOf(
            4620, 4600, 600, 560, 580, 1720, 560, 1740, 560, 1740, 560, 580, 560, 560, 580, 580, 580, 580, 560, 580, 580, 1720, 560, 1740, 560, 1720, 560, 560, 600, 540, 600, 560, 580, 560, 600, 580, 560, 560, 600, 540, 580, 1740, 560, 560, 580, 600, 560, 560, 580, 560, 600, 1700, 580, 1740, 560, 1740, 560, 580, 560, 1740, 560, 1720, 580, 1720, 560, 1700, 600, 48140, 4640, 4580, 600, 1700, 580, 1
        );
        map[R.id.btn9] = intArrayOf(
            4620, 4600, 600, 560, 580, 1720, 560, 1740, 560, 1740, 560, 580, 560, 580, 560, 560, 560, 620, 560, 560, 580, 1740, 560, 1740, 560, 1720, 560, 560, 600, 540, 600, 540, 600, 560, 600, 1720, 580, 540, 600, 540, 600, 1700, 600, 540, 600, 560, 580, 560, 600, 540, 600, 560, 580, 1700, 600, 1700, 600, 540, 600, 1700, 600, 1700, 580, 1700, 600, 1700, 600, 48140, 4640, 4580, 600, 1700, 580, 1
        );
        map[R.id.btnReturn] = intArrayOf(
            4620, 4600, 580, 580, 580, 1720, 540, 1760, 560, 1720, 560, 600, 540, 600, 560, 580, 560, 600, 540, 600, 560, 1740, 560, 1720, 580, 1720, 560, 560, 600, 580, 560, 580, 560, 600, 560, 1720, 560, 1740, 560, 580, 540, 1760, 560, 580, 580, 540, 600, 580, 540, 600, 560, 600, 560, 580, 560, 1740, 560, 540, 600, 1700, 600, 1720, 580, 1720, 560, 1700, 600, 48140, 4640, 4580, 600, 1700, 580, 33144, 4620, 4600, 580, 1700, 600, 1
        );
        map[R.id.btn0] = intArrayOf(
            4620, 4600, 600, 560, 580, 1720, 560, 1740, 560, 1720, 580, 540, 600, 560, 580, 560, 600, 540, 600, 580, 560, 1740, 560, 1740, 560, 1700, 580, 580, 580, 540, 600, 560, 580, 560, 600, 560, 580, 560, 580, 560, 580, 560, 600, 560, 580, 560, 580, 560, 580, 560, 600, 1700, 600, 1700, 580, 1720, 580, 1700, 600, 1700, 600, 1700, 580, 1700, 600, 1700, 600, 48140, 4620, 4580, 600, 1700, 600, 1
        );
        map[R.id.btnTShift] = intArrayOf(
            4620, 4600, 600, 560, 580, 1700, 580, 1720, 580, 1700, 600, 560, 580, 560, 580, 560, 600, 540, 600, 560, 600, 1680, 600, 1700, 600, 1700, 600, 540, 600, 540, 600, 560, 580, 560, 600, 1700, 600, 1700, 580, 1700, 600, 560, 580, 1700, 600, 1700, 600, 540, 600, 1700, 600, 560, 580, 560, 580, 560, 600, 1700, 580, 560, 600, 540, 600, 1700, 600, 540, 600, 48140, 4640, 4580, 600, 1700, 580, 1
        );
        map[R.id.btnMenu] = intArrayOf(
            4600, 4620, 580, 600, 540, 1740, 580, 1720, 560, 1740, 560, 580, 540, 600, 580, 540, 600, 580, 560, 560, 600, 1720, 560, 1740, 560, 1740, 560, 540, 600, 560, 580, 560, 600, 540, 600, 1700, 600, 540, 600, 560, 580, 560, 600, 1700, 580, 560, 600, 540, 600, 560, 580, 560, 600, 1700, 580, 1720, 580, 1740, 560, 540, 600, 1720, 580, 1720, 560, 1740, 560, 1
        );
        map[R.id.btnUP] = intArrayOf(
            4620, 4600, 600, 540, 600, 1700, 600, 1700, 580, 1700, 600, 560, 580, 560, 580, 560, 600, 560, 580, 560, 600, 1700, 580, 1700, 600, 1700, 600, 540, 600, 560, 580, 560, 580, 560, 600, 560, 580, 1700, 600, 540, 600, 560, 580, 560, 600, 540, 600, 1700, 580, 580, 580, 1700, 600, 560, 580, 1700, 600, 1700, 600, 1700, 580, 1700, 600, 560, 580, 1700, 600, 48140, 4620, 4600, 600, 1700, 580, 1
        );
        map[R.id.btnSource] = intArrayOf(
            4620, 4600, 600, 540, 600, 1700, 600, 1700, 580, 1720, 580, 540, 620, 540, 600, 540, 600, 560, 600, 540, 600, 1700, 580, 1720, 580, 1700, 600, 540, 600, 560, 580, 560, 600, 540, 600, 1700, 600, 1700, 580, 1720, 580, 1700, 600, 540, 600, 560, 600, 540, 600, 560, 580, 560, 580, 560, 600, 540, 600, 560, 580, 1720, 580, 1700, 600, 1700, 600, 1700, 580, 48140, 4700, 4520, 660, 1660, 640, 1
        );
        map[R.id.btnLeft] = intArrayOf(
            4640, 4600, 580, 580, 560, 1740, 560, 1740, 560, 1720, 560, 600, 560, 580, 560, 580, 560, 600, 560, 560, 560, 1740, 580, 1700, 600, 1720, 540, 600, 560, 560, 600, 580, 560, 580, 560, 560, 600, 540, 600, 1720, 580, 540, 600, 560, 580, 560, 580, 1720, 580, 560, 600, 1700, 580, 1720, 580, 560, 600, 1700, 580, 1700, 600, 1700, 600, 540, 600, 1700, 600, 48140, 4620, 4600, 580, 1700, 600, 1
        );
        map[R.id.btnOK] = intArrayOf(
            4620, 4600, 600, 540, 600, 1720, 560, 1720, 580, 1700, 600, 540, 600, 560, 600, 540, 600, 560, 580, 560, 580, 1720, 580, 1700, 600, 1700, 600, 540, 600, 540, 600, 560, 580, 560, 600, 540, 600, 1700, 600, 1700, 600, 540, 600, 560, 580, 560, 580, 1700, 600, 560, 600, 1700, 580, 560, 580, 560, 600, 1700, 580, 1700, 600, 1700, 600, 540, 600, 1700, 600, 48140, 4620, 4600, 580, 1720, 580, 1
        );
        map[R.id.btnRight] = intArrayOf(
            4640, 4600, 580, 560, 580, 1740, 560, 1700, 600, 1700, 600, 540, 600, 560, 580, 560, 600, 540, 600, 560, 580, 1740, 560, 1700, 600, 1720, 560, 560, 600, 560, 580, 540, 600, 560, 600, 1700, 580, 560, 600, 1720, 560, 560, 600, 540, 600, 540, 600, 1700, 600, 560, 600, 540, 580, 1720, 580, 560, 600, 1700, 580, 1700, 600, 1700, 600, 540, 600, 1700, 600, 48140, 4620, 4600, 600, 1700, 580, 1
        );
        map[R.id.btnExit] = intArrayOf(
            4600, 4620, 580, 600, 540, 1760, 540, 1740, 540, 1760, 540, 600, 540, 620, 560, 580, 540, 600, 580, 580, 560, 1720, 600, 1700, 600, 1700, 600, 520, 620, 540, 600, 540, 640, 520, 640, 1660, 640, 500, 640, 1660, 620, 500, 660, 1660, 640, 1640, 640, 520, 640, 1660, 640, 500, 640, 1660, 620, 520, 640, 1660, 640, 480, 660, 500, 640, 1660, 640, 500, 640, 1
        );
        map[R.id.btnDown] = intArrayOf(
            4620, 4600, 600, 540, 600, 1700, 600, 1700, 580, 1720, 580, 560, 580, 560, 600, 540, 600, 560, 600, 540, 580, 1720, 580, 1720, 580, 1700, 600, 540, 600, 560, 580, 560, 600, 540, 600, 1700, 600, 1700, 580, 560, 600, 540, 600, 560, 580, 560, 580, 1700, 600, 560, 600, 540, 600, 560, 580, 1700, 600, 1700, 600, 1700, 580, 1700, 600, 560, 580, 1720, 580, 48140, 4640, 4580, 600, 1700, 580, 1
        );
        map[R.id.btnInfo] = intArrayOf(
            4620, 4600, 580, 560, 580, 1720, 580, 1700, 600, 1700, 600, 540, 600, 540, 600, 560, 580, 560, 600, 560, 580, 1700, 600, 1700, 600, 1700, 580, 560, 600, 540, 600, 540, 600, 560, 580, 560, 600, 1700, 580, 1700, 600, 560, 600, 1700, 580, 560, 580, 560, 580, 580, 580, 1700, 600, 560, 580, 560, 600, 1680, 600, 560, 600, 1700, 580, 1700, 600, 1700, 600, 48140, 4640, 4580, 600, 1700, 580, 1
        );
        map[R.id.btnVolUp] = intArrayOf(
            4620, 4600, 600, 540, 600, 1700, 600, 1700, 580, 1700, 600, 560, 580, 560, 580, 560, 600, 560, 580, 560, 600, 1680, 600, 1700, 600, 1700, 600, 540, 600, 560, 580, 560, 580, 560, 600, 540, 600, 560, 600, 1680, 600, 560, 600, 1700, 580, 560, 580, 560, 600, 560, 580, 1700, 600, 1700, 600, 540, 600, 1700, 580, 560, 600, 1700, 580, 1720, 580, 1700, 600, 48160, 4620, 4580, 600, 1700, 600, 33124, 4640, 4580, 600, 1680, 600, 1
        );
        map[R.id.btnChUp] =  intArrayOf(
            4620, 4600, 580, 560, 580, 1720, 580, 1700, 600, 1700, 600, 540, 600, 540, 600, 560, 600, 540, 600, 560, 580, 1700, 600, 1700, 600, 1700, 580, 560, 600, 540, 600, 540, 600, 560, 600, 540, 600, 1700, 600, 540, 600, 560, 580, 1700, 600, 540, 600, 560, 580, 560, 600, 1700, 600, 540, 600, 1700, 600, 1700, 580, 560, 600, 1700, 580, 1700, 600, 1700, 600, 48140, 4620, 4600, 600, 1700, 580, 1
        );
        map[R.id.btnMedia] = intArrayOf(
            4600, 4620, 600, 560, 560, 1720, 580, 1720, 560, 1740, 560, 580, 580, 560, 600, 560, 580, 560, 600, 540, 580, 1720, 600, 1700, 580, 1700, 600, 560, 580, 560, 580, 560, 600, 560, 580, 1700, 600, 560, 580, 1700, 600, 1700, 600, 1700, 580, 560, 600, 540, 600, 560, 600, 540, 600, 1700, 600, 540, 600, 540, 600, 560, 580, 1700, 600, 1700, 600, 1700, 580, 48140, 4680, 4560, 660, 1640, 640, 1
        );
        map[R.id.btnVolDown] = intArrayOf(
            4620, 4600, 580, 560, 600, 1700, 580, 1720, 580, 1700, 600, 540, 600, 560, 580, 560, 600, 540, 600, 560, 580, 1700, 600, 1700, 600, 1700, 580, 560, 600, 540, 600, 560, 580, 560, 600, 1700, 580, 560, 600, 1700, 580, 560, 600, 1700, 580, 560, 600, 540, 600, 560, 580, 560, 600, 1700, 580, 560, 600, 1700, 580, 560, 600, 1700, 580, 1700, 600, 1700, 600, 48140, 4620, 4600, 580, 1720, 580, 1
        );
        map[R.id.btnChDown] = intArrayOf(
            4700, 4520, 680, 500, 640, 1640, 660, 1640, 640, 1660, 640, 480, 660, 520, 640, 480, 660, 480, 660, 500, 660, 1640, 640, 1660, 640, 1660, 640, 480, 660, 480, 660, 520, 620, 500, 660, 1640, 660, 1640, 640, 480, 680, 480, 660, 1660, 620, 500, 660, 480, 660, 480, 680, 480, 660, 500, 640, 1660, 640, 1640, 620, 520, 620, 1680, 640, 1660, 620, 1680, 620, 48100, 4700, 4520, 660, 1640, 620, 1
        );
        map[R.id.btnRec] = intArrayOf(
            4620, 4600, 600, 540, 600, 1700, 600, 1700, 580, 1700, 600, 560, 580, 560, 580, 560, 600, 560, 580, 560, 600, 1680, 600, 1700, 600, 1700, 600, 540, 600, 560, 580, 560, 580, 560, 600, 1700, 600, 540, 600, 540, 600, 560, 600, 1680, 600, 1700, 600, 560, 580, 1720, 580, 560, 580, 1700, 600, 1700, 600, 1700, 580, 560, 600, 540, 600, 1700, 600, 560, 580, 48140, 4640, 4600, 580, 1700, 600, 1
        );
        map[R.id.btnFreeze] = intArrayOf(
            4640, 4600, 580, 580, 560, 1740, 560, 1740, 560, 1720, 580, 540, 600, 540, 600, 580, 560, 600, 560, 580, 560, 1740, 560, 1720, 540, 1760, 560, 560, 580, 580, 580, 580, 540, 580, 600, 560, 580, 1720, 540, 580, 560, 1760, 540, 1760, 540, 600, 540, 600, 560, 600, 540, 1760, 560, 580, 560, 1740, 580, 540, 620, 540, 600, 1700, 600, 1680, 640, 1660, 640, 48080, 4620, 4600, 580, 1740, 560, 1
        );
        map[R.id.btnIII] = intArrayOf(
            4700, 4520, 680, 500, 640, 1640, 640, 1660, 640, 1660, 640, 500, 640, 500, 640, 520, 640, 500, 640, 500, 640, 1660, 640, 1660, 600, 1700, 600, 540, 600, 520, 660, 500, 600, 560, 600, 540, 600, 540, 620, 1680, 600, 1700, 560, 580, 600, 1700, 600, 540, 580, 1720, 580, 1720, 540, 1760, 560, 580, 540, 600, 560, 1740, 560, 580, 540, 1760, 540, 600, 580, 48140, 4620, 4580, 600, 1720, 580, 1
        );
        map[R.id.btnPlay] = intArrayOf(
            4600, 4620, 620, 540, 640, 1660, 640, 1660, 640, 1640, 640, 520, 640, 500, 640, 500, 640, 520, 640, 500, 640, 1660, 640, 1640, 640, 1660, 640, 500, 640, 520, 640, 500, 640, 500, 640, 1660, 640, 500, 640, 520, 640, 1640, 640, 520, 640, 500, 640, 1660, 640, 500, 640, 500, 640, 1660, 640, 1660, 640, 500, 640, 1660, 640, 1660, 640, 480, 660, 1660, 640, 48080, 4700, 4500, 680, 1640, 640, 1
        );
        map[R.id.btnPrevious] = intArrayOf(
            4700, 4520, 680, 500, 640, 1640, 660, 1640, 640, 1660, 640, 500, 640, 480, 660, 500, 660, 480, 660, 500, 660, 1640, 640, 1660, 640, 1660, 640, 480, 660, 480, 660, 480, 680, 500, 640, 500, 640, 500, 660, 460, 680, 480, 660, 500, 640, 520, 620, 1660, 640, 520, 640, 1660, 640, 1640, 640, 1660, 640, 1660, 640, 1640, 640, 1660, 640, 500, 640, 1660, 640, 48060, 4720, 4500, 680, 1640, 660, 1
        );
        map[R.id.btnNext] = intArrayOf(
            4640, 4580, 600, 580, 560, 1740, 560, 1740, 560, 1720, 560, 580, 580, 580, 560, 560, 580, 560, 600, 540, 600, 1700, 600, 1700, 580, 1700, 600, 560, 600, 540, 600, 540, 600, 560, 620, 1680, 580, 560, 580, 560, 600, 540, 600, 560, 580, 560, 600, 1680, 600, 560, 600, 540, 600, 1700, 600, 1700, 580, 1720, 580, 1700, 600, 1700, 600, 540, 600, 1700, 580, 48160, 4620, 4600, 580, 1720, 580, 1
        );
        map[R.id.btnStop] = intArrayOf(
            4700, 4520, 660, 500, 640, 1660, 640, 1660, 640, 1640, 660, 480, 660, 500, 640, 500, 640, 520, 640, 500, 640, 1660, 640, 1640, 660, 1640, 640, 500, 660, 500, 640, 480, 660, 520, 620, 500, 660, 1660, 620, 500, 660, 1640, 640, 520, 640, 500, 640, 1660, 640, 500, 640, 1660, 640, 500, 640, 1660, 640, 480, 660, 1660, 640, 1660, 620, 520, 640, 1660, 620, 48100, 4700, 4520, 640, 1660, 620, 1
        );
        map[R.id.btnRewindBack] = intArrayOf(
            4600, 4620, 600, 580, 540, 1740, 580, 1720, 560, 1740, 560, 580, 540, 600, 580, 560, 560, 600, 540, 600, 560, 1740, 580, 1720, 560, 1740, 560, 580, 560, 580, 580, 560, 600, 560, 560, 1720, 600, 1700, 600, 1700, 600, 540, 580, 580, 600, 540, 600, 1680, 620, 540, 600, 540, 600, 560, 600, 540, 600, 1700, 600, 1680, 600, 1700, 600, 540, 600, 1700, 620, 1
        );
        map[R.id.btnRewindForward] = intArrayOf(
            4660, 4560, 600, 580, 560, 1720, 540, 1760, 540, 1760, 540, 600, 540, 600, 580, 560, 580, 580, 540, 580, 580, 1740, 540, 1760, 560, 1740, 560, 540, 600, 580, 560, 560, 600, 540, 600, 560, 580, 560, 560, 580, 600, 1700, 580, 560, 600, 540, 600, 1700, 600, 540, 600, 1700, 600, 1700, 600, 1700, 580, 560, 600, 1700, 580, 1700, 600, 560, 580, 1700, 600, 48140, 4640, 4580, 600, 1700, 580, 1
        );
        map[R.id.btnRed] =  intArrayOf(
            4640, 4580, 620, 560, 600, 1680, 640, 1660, 640, 1660, 640, 500, 640, 500, 640, 500, 620, 540, 640, 500, 640, 1660, 640, 1640, 660, 1640, 640, 520, 640, 500, 640, 480, 660, 520, 640, 480, 660, 500, 640, 520, 620, 520, 640, 500, 640, 1660, 640, 500, 640, 1660, 640, 1660, 620, 1660, 640, 1660, 640, 1660, 640, 1640, 640, 520, 620, 1660, 640, 520, 600, 48100, 4640, 4580, 600, 1720, 580, 1
        );
        map[R.id.btnGreen] = intArrayOf(
            4600, 4620, 600, 560, 580, 1740, 520, 1760, 560, 1720, 580, 560, 600, 540, 600, 540, 600, 560, 580, 560, 600, 1700, 580, 1740, 560, 1700, 600, 540, 600, 560, 580, 560, 600, 560, 580, 1700, 600, 560, 580, 560, 580, 560, 600, 540, 600, 1700, 600, 540, 600, 1700, 600, 560, 580, 1700, 600, 1720, 580, 1700, 580, 1700, 600, 540, 600, 1700, 600, 560, 580, 1
        );
        map[R.id.btnYellow] = intArrayOf(
            4700, 4520, 660, 520, 640, 1640, 640, 1660, 640, 1660, 640, 500, 640, 500, 640, 480, 660, 500, 660, 500, 640, 1660, 640, 1640, 660, 1640, 640, 520, 620, 520, 640, 500, 640, 520, 640, 480, 660, 1640, 660, 500, 640, 480, 660, 480, 660, 1660, 640, 500, 640, 1660, 640, 1660, 640, 500, 640, 1660, 640, 1640, 660, 1640, 640, 480, 660, 1660, 640, 520, 620, 1
        );
        map[R.id.btnBlue] = intArrayOf(
            4620, 4600, 600, 540, 600, 1700, 580, 1720, 580, 1700, 600, 540, 600, 560, 600, 540, 600, 560, 580, 560, 580, 1720, 580, 1700, 600, 1700, 600, 540, 600, 540, 600, 560, 580, 560, 600, 1700, 580, 1720, 580, 560, 580, 560, 600, 540, 600, 1700, 600, 540, 600, 1700, 600, 560, 560, 580, 580, 1720, 580, 1700, 600, 1700, 580, 560, 600, 1700, 580, 560, 560, 48180, 4600, 4620, 580, 1700, 560, 1
        );
        map[R.id.btnText] = intArrayOf(
            4620, 4620, 560, 600, 540, 1760, 540, 1740, 580, 1720, 580, 580, 560, 540, 580, 600, 560, 600, 560, 580, 560, 1720, 580, 1720, 580, 1720, 560, 560, 560, 580, 600, 540, 600, 560, 580, 1720, 580, 1700, 600, 540, 600, 1700, 600, 540, 600, 1700, 600, 540, 600, 1700, 600, 560, 580, 560, 600, 1680, 600, 560, 600, 1680, 600, 560, 580, 1700, 600, 560, 580, 48140, 4640, 4580, 600, 1700, 580, 1
        );
        map[R.id.btnRadio] = intArrayOf(
            4620, 4600, 600, 560, 580, 1700, 600, 1700, 600, 1700, 580, 560, 600, 540, 600, 540, 600, 560, 600, 540, 600, 1700, 600, 1700, 580, 1700, 600, 560, 580, 560, 600, 540, 600, 560, 600, 540, 580, 560, 600, 1700, 600, 540, 600, 1700, 600, 540, 600, 1700, 600, 540, 600, 1700, 600, 1700, 580, 560, 600, 1700, 580, 560, 600, 1700, 580, 560, 600, 1700, 580, 48160, 4600, 4620, 580, 1740, 540, 1
        );
        map[R.id.btnBlue] = intArrayOf(
            4620, 4600, 600, 540, 600, 1700, 580, 1720, 580, 1700, 600, 540, 600, 560, 600, 540, 600, 560, 580, 560, 580, 1720, 580, 1700, 600, 1700, 600, 540, 600, 540, 600, 560, 580, 560, 600, 1700, 580, 1720, 580, 560, 580, 560, 600, 540, 600, 1700, 600, 540, 600, 1700, 600, 560, 560, 580, 580, 1720, 580, 1700, 600, 1700, 580, 560, 600, 1700, 580, 560, 560, 48180, 4600, 4620, 580, 1700, 560, 1
        );
        map[R.id.btnRList] = intArrayOf(
            4700, 4520, 660, 480, 660, 1660, 640, 1660, 640, 1640, 660, 480, 660, 480, 660, 480, 680, 480, 660, 500, 640, 1660, 640, 1660, 640, 1640, 640, 500, 660, 480, 660, 480, 660, 520, 620, 1660, 640, 1660, 640, 480, 660, 520, 640, 1640, 640, 480, 680, 1640, 640, 520, 640, 480, 660, 500, 640, 1660, 640, 1660, 620, 500, 660, 1660, 620, 500, 660, 1660, 600, 48120, 4660, 4540, 640, 1680, 620, 1
        );
        map[R.id.btnSleep] = intArrayOf(
            4700, 4520, 660, 500, 640, 1660, 640, 1660, 640, 1660, 640, 500, 640, 500, 640, 500, 640, 520, 640, 480, 660, 1660, 640, 1660, 640, 1640, 640, 500, 660, 500, 640, 500, 640, 500, 660, 480, 660, 1640, 640, 1660, 640, 1660, 640, 500, 640, 480, 680, 460, 680, 480, 660, 1660, 640, 480, 660, 480, 660, 500, 660, 1640, 640, 1660, 640, 1660, 640, 1660, 620, 48080, 4700, 4520, 660, 1660, 640, 1
        );
    }

    private fun initButtons() {
        val irEngine = getSystemService(CONSUMER_IR_SERVICE) as ConsumerIrManager

        if (!irEngine.hasIrEmitter()) {
            showNotSupportingDialog()
            return
        }
        for(intKeyIdButton in map.keys){
            findViewById<View>(intKeyIdButton).setOnClickListener{
                vibrate();
                irEngine.transmit(38000, map[intKeyIdButton]);
            }

        }
    }

    private fun showNotSupportingDialog() {
        AlertDialog.Builder(this@MainActivity)
                .setTitle(getString(R.string.warning))
                .setMessage(getString(R.string.ir_not_supported))
                .setPositiveButton(getString(R.string.exit_app)) { _, _ ->
                    finish()
                }
                .setNegativeButton(getString(R.string.close), null)
                .show()
    }

    private fun vibrate(durationInMillis: Long = 20) {
        val v = getSystemService(VIBRATOR_SERVICE) as Vibrator
        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {
            v.vibrate(VibrationEffect.createOneShot(durationInMillis, VibrationEffect.DEFAULT_AMPLITUDE))
        } else {
            v.vibrate(durationInMillis)
        }
    }

    override fun attachBaseContext(newBase: Context) {
        super.attachBaseContext(ViewPumpContextWrapper.wrap(newBase))
    }
}